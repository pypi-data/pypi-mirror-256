import{p as j,ad as q,z,F as E,e as J,c as K,ae as O,J as p,u as D,M as $,N as W,l as r,m as V,w,Q as s,$ as a,O as t,S as n,q as P,V as d,K as T,r as g,v as Q,o as G,a3 as M}from"./index-24107e68.js";import{f as _}from"./utils-6f3c77d7.js";import{b as I}from"./VCard-2b95602b.js";import{V as A}from"./VTable-3fcd2188.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{V as X}from"./VToolbar-993b6bf4.js";import{V as Y}from"./VDivider-a49a49d4.js";import{m as Z,a as x,V as ee}from"./VSelect-2554ab65.js";import{m as se,u as te,V as B}from"./VTextField-7a038c3b.js";import{i as oe}from"./VImg-d2963adb.js";import"./VAvatar-49c783e3.js";import"./index-90a7e407.js";import"./forwardRefs-c6f07492.js";import"./VList-33098452.js";import"./VOverlay-6b0cfd9a.js";import"./scopeId-582fd994.js";import"./resizeObserver-6b041063.js";import"./VSlideGroup-3231dc03.js";const ae=j({...se(),...q(Z(),["inline"])},"VCheckbox"),re=z()({name:"VCheckbox",inheritAttrs:!1,props:ae(),emits:{"update:modelValue":i=>!0,"update:focused":i=>!0},setup(i,u){let{attrs:m,slots:e}=u;const c=E(i,"modelValue"),{isFocused:o,focus:l,blur:C}=te(i),h=J(),k=K(()=>i.id||`checkbox-${h}`);return oe(()=>{const[y,v]=O(m),f=B.filterProps(i),U=x.filterProps(i);return p(B,D({class:["v-checkbox",i.class]},y,f,{modelValue:c.value,"onUpdate:modelValue":b=>c.value=b,id:k.value,focused:o.value,style:i.style}),{...e,default:b=>{let{id:N,messagesId:H,isDisabled:L,isReadonly:R}=b;return p(x,D(U,{id:N.value,"aria-describedby":H.value,disabled:L.value,readonly:R.value},v,{modelValue:c.value,"onUpdate:modelValue":S=>c.value=S,onFocus:l,onBlur:C}),e)}})}),{}}}),le={class:"bg-primary"},ne={class:"w-24 px-6 py-3"},de={class:"w-36 px-6 py-3"},ue={class:"w-36 px-6 py-3"},ce={class:"w-36 px-6 py-3"},_e={class:"w-36 px-6 py-3"},ie={class:"w-36 px-6 py-3"},me={class:"px-6 py-4"},pe={class:"px-6 py-4"},he={key:0},ye={key:1},ve={class:"px-6 py-4"},ge={key:0},fe={key:1},ke={class:"px-6 py-4"},Ve={key:0},we={key:1},be={class:"px-6 py-4"},Me={key:0},$e={key:1},We={class:"px-6 py-4"},Ce={key:0},De={key:1},xe=$({__name:"HomeMeasurementTable",props:{homeMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(r(),V(I,{class:"rounded-md elevation-2"},{default:w(()=>[p(A,{class:"m-4 border"},{default:w(()=>[s("thead",le,[s("tr",null,[s("th",ne,a(t(u)("raw_data.date")),1),s("th",de,a(t(u)("consumed_solar_energy")),1),s("th",ue,a(t(u)("consumed_energy")),1),s("th",ce,a(t(u)("raw_data.produced_solar_energy")),1),s("th",_e,a(t(u)("raw_data.imported_energy")),1),s("th",ie,a(t(u)("raw_data.exported_energy")),1)])]),s("tbody",null,[(r(!0),n(T,null,P(e.homeMeasurements,(o,l)=>(r(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",me,a(t(m)(new Date(o.measurement_date))),1),s("td",pe,[l<e.homeMeasurements.length-1?(r(),n("p",he,a(t(_)(o.solar_consumed_energy-e.homeMeasurements[l+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",ye,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",ve,[l<e.homeMeasurements.length-1?(r(),n("p",ge,a(t(_)(o.consumed_energy-e.homeMeasurements[l+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",fe,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)]),s("td",ke,[l<e.homeMeasurements.length-1?(r(),n("p",Ve,a(t(_)(o.solar_produced_energy-e.homeMeasurements[l+1].solar_produced_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",we,a(t(_)(o.solar_produced_energy,"kWh")),1)):d("",!0)]),s("td",be,[l<e.homeMeasurements.length-1?(r(),n("p",Me,a(t(_)(o.grid_imported_energy-e.homeMeasurements[l+1].grid_imported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",$e,a(t(_)(o.grid_imported_energy,"kWh")),1)):d("",!0)]),s("td",We,[l<e.homeMeasurements.length-1?(r(),n("p",Ce,a(t(_)(o.grid_exported_energy-e.homeMeasurements[l+1].grid_exported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",De,a(t(_)(o.grid_exported_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const Be=F(xe,[["__scopeId","data-v-f1424c18"]]),Pe={class:"bg-primary"},Te={class:"w-24 px-6 py-3"},Ie={class:"w-36 px-6 py-3"},Ae={class:"w-36 px-6 py-3"},Fe={class:"px-6 py-4"},Ue={class:"px-6 py-4"},Ne={key:0},He={key:1},Le={class:"px-6 py-4"},Re={key:0},Se={key:1},je=$({__name:"DeviceMeasurementTable",props:{deviceMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(r(),V(I,{class:"rounded-md elevation-2"},{default:w(()=>[p(A,{class:"m-4 rounded-md border"},{default:w(()=>[s("thead",Pe,[s("tr",null,[s("th",Te,a(t(u)("raw_data.date")),1),s("th",Ie,a(t(u)("consumed_solar_energy")),1),s("th",Ae,a(t(u)("consumed_energy")),1)])]),s("tbody",null,[(r(!0),n(T,null,P(e.deviceMeasurements,(o,l)=>(r(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",Fe,a(t(m)(new Date(o.measurement_date))),1),s("td",Ue,[l<e.deviceMeasurements.length-1?(r(),n("p",Ne,a(t(_)(o.solar_consumed_energy-e.deviceMeasurements[l+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",He,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",Le,[l<e.deviceMeasurements.length-1?(r(),n("p",Re,a(t(_)(o.consumed_energy-e.deviceMeasurements[l+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",Se,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const qe=F(je,[["__scopeId","data-v-ff3f6c69"]]),ze={class:"v-full flex min-h-screen justify-center p-4 bg-background"},Ee={key:0,class:"grid h-full w-full grid-cols-1 justify-items-center"},Je=s("span",{class:"loading loading-dots loading-lg py-2"},null,-1),Ke=[Je],Oe={key:1},Qe={class:"my-4 flex"},ps=$({__name:"RawData",setup(i){const{t:u}=W(),m=g(),e=g(),c=g(),o=g(!1),l=g(""),h=g(!1),k=async function(y){o.value=!0,e.value=await M.getAllHomeMeasurements(),m.value=y!=""?await M.getDeviceMeasurements(y):[],o.value=!1};return Q(l,()=>{console.log("Change selection: "+l.value),k(l.value)}),G(async()=>{c.value=await M.getAllDevices(),c.value.length>0&&(l.value=c.value[0].id,console.log("Load in on mounted: "+c.value[0].id),k(c.value[0].id))}),(y,v)=>(r(),n("div",null,[p(X,{color:"transparent",title:y.$t("app.rawdata")},null,8,["title"]),p(Y),s("div",ze,[o.value?(r(),n("div",Ee,Ke)):(r(),n("div",Oe,[e.value?(r(),V(Be,{key:0,"home-measurements":e.value,"show-meter-values":h.value},null,8,["home-measurements","show-meter-values"])):d("",!0),p(ee,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=f=>l.value=f),class:"my-4 bg-surface rounded-md",items:c.value?c.value:[],"item-title":"name","item-value":"id","single-line":""},null,8,["modelValue","items"]),m.value?(r(),V(qe,{key:1,"device-measurements":m.value,"show-meter-values":h.value},null,8,["device-measurements","show-meter-values"])):d("",!0),s("div",Qe,[p(re,{modelValue:h.value,"onUpdate:modelValue":v[1]||(v[1]=f=>h.value=f),label:t(u)("raw_data.show_meter_values")},null,8,["modelValue","label"])])]))])]))}});export{ps as default};
