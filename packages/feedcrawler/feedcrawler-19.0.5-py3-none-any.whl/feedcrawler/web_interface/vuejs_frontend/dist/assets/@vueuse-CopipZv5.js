import{i as $,r as D,u as q,k as U,v as R,x as X,o as z,n as J,y as Y,z as Z,g as x,w as j,c as O,A as ee,e as te}from"./@vue-CPm2HmaL.js";function P(e){return Y()?(Z(e),!0):!1}function E(e){return typeof e=="function"?e():q(e)}const ne=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=Object.prototype.toString,oe=e=>re.call(e)==="[object Object]",H=()=>{};function ae(e,t){function n(...a){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(r).catch(s)})}return n}const B=e=>e();function se(e=B){const t=D(!0);function n(){t.value=!1}function a(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:R(t),pause:n,resume:a,eventFilter:r}}function ie(e){return e||x()}function ue(...e){if(e.length!==1)return U(...e);const t=e[0];return typeof t=="function"?R(X(()=>({get:t,set:H}))):D(t)}function le(e,t,n={}){const{eventFilter:a=B,...r}=n;return j(e,ae(a,t),r)}function ce(e,t,n={}){const{eventFilter:a,...r}=n,{eventFilter:s,pause:l,resume:i,isActive:c}=se(a);return{stop:le(e,t,{...r,eventFilter:s}),pause:l,resume:i,isActive:c}}function G(e,t=!0,n){ie()?z(e,n):t?e():J(e)}function be(e=!1,t={}){const{truthyValue:n=!0,falsyValue:a=!1}=t,r=$(e),s=D(e);function l(i){if(arguments.length)return s.value=i,s.value;{const c=E(n);return s.value=s.value===c?E(a):c,s.value}}return r?l:[s,l]}function I(e){var t;const n=E(e);return(t=n==null?void 0:n.$el)!=null?t:n}const M=ne?window:void 0;function V(...e){let t,n,a,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,r]=e,t=M):[t,n,a,r]=e,!t)return H;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const s=[],l=()=>{s.forEach(m=>m()),s.length=0},i=(m,f,S,h)=>(m.addEventListener(f,S,h),()=>m.removeEventListener(f,S,h)),c=j(()=>[I(t),E(r)],([m,f])=>{if(l(),!m)return;const S=oe(f)?{...f}:f;s.push(...n.flatMap(h=>a.map(v=>i(m,h,v,S))))},{immediate:!0,flush:"post"}),p=()=>{c(),l()};return P(p),p}function fe(){const e=D(!1);return x()&&z(()=>{e.value=!0}),e}function de(e){const t=fe();return O(()=>(t.value,!!e()))}function pe(e,t={}){const{window:n=M}=t,a=de(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=D(!1),l=p=>{s.value=p.matches},i=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",l):r.removeListener(l))},c=te(()=>{a.value&&(i(),r=n.matchMedia(E(e)),"addEventListener"in r?r.addEventListener("change",l):r.addListener(l),s.value=r.matches)});return P(()=>{c(),i(),r=void 0}),s}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F="__vueuse_ssr_handlers__",me=ge();function ge(){return F in N||(N[F]=N[F]||{}),N[F]}function K(e,t){return me[e]||t}function he(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ve={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},W="vueuse-storage";function ye(e,t,n,a={}){var r;const{flush:s="pre",deep:l=!0,listenToStorageChanges:i=!0,writeDefaults:c=!0,mergeDefaults:p=!1,shallow:m,window:f=M,eventFilter:S,onError:h=o=>{console.error(o)},initOnMounted:v}=a,g=(m?ee:D)(typeof t=="function"?t():t);if(!n)try{n=K("getDefaultStorage",()=>{var o;return(o=M)==null?void 0:o.localStorage})()}catch(o){h(o)}if(!n)return g;const w=E(t),L=he(w),b=(r=a.serializer)!=null?r:ve[L],{pause:T,resume:d}=ce(g,()=>A(g.value),{flush:s,deep:l,eventFilter:S});return f&&i&&G(()=>{V(f,"storage",y),V(f,W,k),v&&y()}),v||y(),g;function A(o){try{if(o==null)n.removeItem(e);else{const u=b.write(o),C=n.getItem(e);C!==u&&(n.setItem(e,u),f&&f.dispatchEvent(new CustomEvent(W,{detail:{key:e,oldValue:C,newValue:u,storageArea:n}})))}}catch(u){h(u)}}function _(o){const u=o?o.newValue:n.getItem(e);if(u==null)return c&&w!=null&&n.setItem(e,b.write(w)),w;if(!o&&p){const C=b.read(u);return typeof p=="function"?p(C,w):L==="object"&&!Array.isArray(C)?{...w,...C}:C}else return typeof u!="string"?u:b.read(u)}function k(o){y(o.detail)}function y(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){g.value=w;return}if(!(o&&o.key!==e)){T();try{(o==null?void 0:o.newValue)!==b.write(g.value)&&(g.value=_(o))}catch(u){h(u)}finally{o?J(d):d()}}}}}function Q(e){return pe("(prefers-color-scheme: dark)",e)}function we(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:r=M,storage:s,storageKey:l="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:c,emitAuto:p,disableTransition:m=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},S=Q({window:r}),h=O(()=>S.value?"dark":"light"),v=c||(l==null?ue(a):ye(l,a,s,{window:r,listenToStorageChanges:i})),g=O(()=>v.value==="auto"?h.value:v.value),w=K("updateHTMLAttrs",(d,A,_)=>{const k=typeof d=="string"?r==null?void 0:r.document.querySelector(d):I(d);if(!k)return;let y;if(m&&(y=r.document.createElement("style"),y.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(y)),A==="class"){const o=_.split(/\s/g);Object.values(f).flatMap(u=>(u||"").split(/\s/g)).filter(Boolean).forEach(u=>{o.includes(u)?k.classList.add(u):k.classList.remove(u)})}else k.setAttribute(A,_);m&&(r.getComputedStyle(y).opacity,document.head.removeChild(y))});function L(d){var A;w(t,n,(A=f[d])!=null?A:d)}function b(d){e.onChanged?e.onChanged(d,L):L(d)}j(g,b,{flush:"post",immediate:!0}),G(()=>b(g.value));const T=O({get(){return p?v.value:g.value},set(d){v.value=d}});try{return Object.assign(T,{store:v,system:h,state:g})}catch{return T}}function Ae(e={}){const{valueDark:t="dark",valueLight:n="",window:a=M}=e,r=we({...e,onChanged:(i,c)=>{var p;e.onChanged?(p=e.onChanged)==null||p.call(e,i==="dark",c,i):c(i)},modes:{dark:t,light:n}}),s=O(()=>r.system?r.system.value:Q({window:a}).value?"dark":"light");return O({get(){return r.value==="dark"},set(i){const c=i?"dark":"light";s.value===c?r.value="auto":r.value=c}})}export{be as a,Ae as u};
