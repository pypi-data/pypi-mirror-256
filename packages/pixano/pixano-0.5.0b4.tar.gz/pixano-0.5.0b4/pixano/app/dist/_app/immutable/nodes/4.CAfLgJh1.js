import{s as q,e as b,c as $,b as S,f as d,m as _,i as k,v as x,n as C,o as Y,r as te,C as Se,t as F,d as z,h as g,j as Q,x as N,D as le,a as M,g as L,y as X,p as Ie,l as J,q as re,u as se,a8 as ae}from"../chunks/scheduler.HHbpe561.js";import{S as R,i as W,b as H,d as j,m as O,a as w,t as B,e as V,g as U,c as G}from"../chunks/index.zjc5z22-.js";import{p as Be}from"../chunks/stores.l6WXagUq.js";import{g as Pe}from"../chunks/entry.IGbnXg9x.js";import{e as A,a as K,D as Me,b as Le,d as Ce}from"../chunks/datasetStores.ixD7r-qb.js";import{s as Ne,a as He,b as Oe,c as Ve,d as je,e as Fe,f as ze}from"../chunks/icons.F8-E9kv1.js";import"../chunks/command.I2m8XSFA.js";import{W as Ae}from"../chunks/WarningModal.HF6YIu7X.js";import{P as Ue}from"../chunks/PrimaryButton.6RbWXLKK.js";import{H as Ge}from"../chunks/Histogram.jk2pgNYt.js";import{L as qe}from"../chunks/loader-2.5mhkmLPp.js";const Re=!1,We=!1,Ft=Object.freeze(Object.defineProperty({__proto__:null,prerender:Re,ssr:We},Symbol.toStringTag,{value:"Module"}));function Ye(n){let e,r,l;return r=new Ge({props:{hist:n[0],maxHeight:20,hideTitle:!0}}),{c(){e=b("div"),H(r.$$.fragment),this.h()},l(t){e=$(t,"DIV",{class:!0});var a=S(e);j(r.$$.fragment,a),a.forEach(d),this.h()},h(){_(e,"class","w-full flex flex-row items-center overflow-y-scroll")},m(t,a){k(t,e,a),O(r,e,null),l=!0},p(t,[a]){const s={};a&1&&(s.hist=t[0]),r.$set(s)},i(t){l||(w(r.$$.fragment,t),l=!0)},o(t){B(r.$$.fragment,t),l=!1},d(t){t&&d(e),V(r)}}}function Ze(n,e,r){let{value:l}=e;return n.$$set=t=>{"value"in t&&r(0,l=t.value)},[l]}class Je extends R{constructor(e){super(),W(this,e,Ze,Ye,q,{value:0})}}function Ke(n){let e,r;return{c(){e=b("img"),this.h()},l(l){e=$(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){_(e,"class","mx-auto h-20 w-20 min-w-20 min-h-20 object-cover rounded"),x(e.src,r=n[0])||_(e,"src",r),_(e,"alt",n[0])},m(l,t){k(l,e,t)},p(l,[t]){t&1&&!x(e.src,r=l[0])&&_(e,"src",r),t&1&&_(e,"alt",l[0])},i:C,o:C,d(l){l&&d(e)}}}function Qe(n,e,r){let{value:l}=e;return n.$$set=t=>{"value"in t&&r(0,l=t.value)},[l]}class Xe extends R{constructor(e){super(),W(this,e,Qe,Ke,q,{value:0})}}function xe(n){let e,r,l,t;return{c(){e=b("video"),this.h()},l(a){e=$(a,"VIDEO",{src:!0,class:!0}),S(e).forEach(d),this.h()},h(){x(e.src,r=n[0])||_(e,"src",r),e.loop=!0,e.muted=!0,_(e,"class","mx-auto h-20 w-20 min-w-20 min-h-20 object-cover rounded")},m(a,s){k(a,e,s),n[3](e),l||(t=[Y(e,"mouseenter",n[2]),Y(e,"mouseleave",n[2])],l=!0)},p(a,[s]){s&1&&!x(e.src,r=a[0])&&_(e,"src",r)},i:C,o:C,d(a){a&&d(e),n[3](null),l=!1,te(t)}}}function et(n,e,r){let{value:l}=e,t;function a(){}function s(o){Se[o?"unshift":"push"](()=>{t=o,r(1,t)})}return n.$$set=o=>{"value"in o&&r(0,l=o.value)},[l,t,a,s]}class tt extends R{constructor(e){super(),W(this,e,et,xe,q,{value:0})}}function lt(n){let e,r;return{c(){e=b("div"),r=F(n[0])},l(l){e=$(l,"DIV",{});var t=S(e);r=z(t,n[0]),t.forEach(d)},m(l,t){k(l,e,t),g(e,r)},p(l,[t]){t&1&&Q(r,l[0])},i:C,o:C,d(l){l&&d(e)}}}function rt(n,e,r){let{value:l}=e;return n.$$set=t=>{"value"in t&&r(0,l=t.value)},[l]}class ne extends R{constructor(e){super(),W(this,e,rt,lt,q,{value:0})}}function st(n){let e;return{c(){e=b("input"),this.h()},l(r){e=$(r,"INPUT",{type:!0,class:!0}),this.h()},h(){_(e,"type","checkbox"),e.disabled=!0,_(e,"class","pointer-events: none;")},m(r,l){k(r,e,l)},d(r){r&&d(e)}}}function at(n){let e;return{c(){e=b("input"),this.h()},l(r){e=$(r,"INPUT",{type:!0,class:!0}),this.h()},h(){_(e,"type","checkbox"),e.disabled=!0,_(e,"class","pointer-events: none;"),e.checked=!0},m(r,l){k(r,e,l)},d(r){r&&d(e)}}}function nt(n){let e;function r(a,s){return a[0]?at:st}let l=r(n),t=l(n);return{c(){t.c(),e=N()},l(a){t.l(a),e=N()},m(a,s){t.m(a,s),k(a,e,s)},p(a,[s]){l!==(l=r(a))&&(t.d(1),t=l(a),t&&(t.c(),t.m(e.parentNode,e)))},i:C,o:C,d(a){a&&d(e),t.d(a)}}}function it(n,e,r){let{value:l}=e;return n.$$set=t=>{"value"in t&&r(0,l=t.value)},[l]}class ot extends R{constructor(e){super(),W(this,e,it,nt,q,{value:0})}}function ct(n){let e,r;return{c(){e=b("div"),r=F(n[0])},l(l){e=$(l,"DIV",{});var t=S(e);r=z(t,n[0]),t.forEach(d)},m(l,t){k(l,e,t),g(e,r)},p(l,[t]){t&1&&Q(r,l[0])},i:C,o:C,d(l){l&&d(e)}}}function ft(n,e,r){let{value:l}=e;return n.$$set=t=>{"value"in t&&r(0,l=t.value)},[l]}class ut extends R{constructor(e){super(),W(this,e,ft,ct,q,{value:0})}}function ht(n){let e,r,l;var t=n[1][n[0].dtype];function a(s,o){return{props:{value:s[0].value}}}return t&&(e=le(t,a(n))),{c(){e&&H(e.$$.fragment),r=N()},l(s){e&&j(e.$$.fragment,s),r=N()},m(s,o){e&&O(e,s,o),k(s,r,o),l=!0},p(s,[o]){if(o&1&&t!==(t=s[1][s[0].dtype])){if(e){U();const i=e;B(i.$$.fragment,1,0,()=>{V(i,1)}),G()}t?(e=le(t,a(s)),H(e.$$.fragment),w(e.$$.fragment,1),O(e,r.parentNode,r)):e=null}else if(t){const i={};o&1&&(i.value=s[0].value),e.$set(i)}},i(s){l||(e&&w(e.$$.fragment,s),l=!0)},o(s){e&&B(e.$$.fragment,s),l=!1},d(s){s&&d(r),e&&V(e,s)}}}function dt(n,e,r){let{itemFeature:l}=e;const t={int:ne,float:ne,bool:ot,str:ut,image:Xe,video:tt,histogram:Je};return n.$$set=a=>{"itemFeature"in a&&r(0,l=a.itemFeature)},[l,t]}class ee extends R{constructor(e){super(),W(this,e,dt,ht,q,{itemFeature:0})}}function ie(n,e,r){const l=n.slice();return l[4]=e[r],l}function oe(n,e,r){const l=n.slice();return l[7]=e[r],l}function ce(n,e,r){const l=n.slice();return l[10]=e[r],l}function fe(n,e,r){const l=n.slice();return l[13]=e[r],l}function ue(n){let e,r=n[13]+"",l;return{c(){e=b("th"),l=F(r),this.h()},l(t){e=$(t,"TH",{class:!0});var a=S(e);l=z(a,r),a.forEach(d),this.h()},h(){_(e,"class","py-4 font-semibold")},m(t,a){k(t,e,a),g(e,l)},p(t,a){a&1&&r!==(r=t[13]+"")&&Q(l,r)},d(t){t&&d(e)}}}function he(n){let e,r,l=A(Object.values(n[4].views)),t=[];for(let s=0;s<l.length;s+=1)t[s]=de(ce(n,l,s));const a=s=>B(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=N()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=N()},m(s,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(s,o);k(s,e,o),r=!0},p(s,o){if(o&1){l=A(Object.values(s[4].views));let i;for(i=0;i<l.length;i+=1){const m=ce(s,l,i);t[i]?(t[i].p(m,o),w(t[i],1)):(t[i]=de(m),t[i].c(),w(t[i],1),t[i].m(e.parentNode,e))}for(U(),i=l.length;i<t.length;i+=1)a(i);G()}},i(s){if(!r){for(let o=0;o<l.length;o+=1)w(t[o]);r=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)B(t[o]);r=!1},d(s){s&&d(e),X(t,s)}}}function de(n){let e,r,l,t;return r=new ee({props:{itemFeature:{name:n[10].id,dtype:n[10].type,value:n[10].thumbnail}}}),{c(){e=b("td"),H(r.$$.fragment),l=M(),this.h()},l(a){e=$(a,"TD",{class:!0});var s=S(e);j(r.$$.fragment,s),l=L(s),s.forEach(d),this.h()},h(){_(e,"class","py-1 border-b border-slate-300")},m(a,s){k(a,e,s),O(r,e,null),g(e,l),t=!0},p(a,s){const o={};s&1&&(o.itemFeature={name:a[10].id,dtype:a[10].type,value:a[10].thumbnail}),r.$set(o)},i(a){t||(w(r.$$.fragment,a),t=!0)},o(a){B(r.$$.fragment,a),t=!1},d(a){a&&d(e),V(r)}}}function me(n){let e,r,l=A(Object.values(n[4].features)),t=[];for(let s=0;s<l.length;s+=1)t[s]=pe(oe(n,l,s));const a=s=>B(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=N()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=N()},m(s,o){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(s,o);k(s,e,o),r=!0},p(s,o){if(o&1){l=A(Object.values(s[4].features));let i;for(i=0;i<l.length;i+=1){const m=oe(s,l,i);t[i]?(t[i].p(m,o),w(t[i],1)):(t[i]=pe(m),t[i].c(),w(t[i],1),t[i].m(e.parentNode,e))}for(U(),i=l.length;i<t.length;i+=1)a(i);G()}},i(s){if(!r){for(let o=0;o<l.length;o+=1)w(t[o]);r=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)B(t[o]);r=!1},d(s){s&&d(e),X(t,s)}}}function pe(n){let e,r,l,t;return r=new ee({props:{itemFeature:n[7]}}),{c(){e=b("td"),H(r.$$.fragment),l=M(),this.h()},l(a){e=$(a,"TD",{class:!0});var s=S(e);j(r.$$.fragment,s),l=L(s),s.forEach(d),this.h()},h(){_(e,"class","py-1 border-b border-slate-300")},m(a,s){k(a,e,s),O(r,e,null),g(e,l),t=!0},p(a,s){const o={};s&1&&(o.itemFeature=a[7]),r.$set(o)},i(a){t||(w(r.$$.fragment,a),t=!0)},o(a){B(r.$$.fragment,a),t=!1},d(a){a&&d(e),V(r)}}}function _e(n){let e,r,l,t,a,s,o,i,m,y,T=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 mx-auto p-1 border rounded-full border-slate-300 transition-colors hover:bg-slate-200"><title>Open</title><path d="${Ne}" fill="currentcolor"></path></svg>`,E,h,p,f;l=new ee({props:{itemFeature:{name:"id",dtype:"str",value:n[4].id}}}),s=new ee({props:{itemFeature:{name:"split",dtype:"str",value:n[4].split}}});let u=n[4].views&&he(n),c=n[4].features&&me(n);function D(){return n[2](n[4])}return{c(){e=b("tr"),r=b("td"),H(l.$$.fragment),t=M(),a=b("td"),H(s.$$.fragment),o=M(),u&&u.c(),i=M(),c&&c.c(),m=M(),y=b("td"),y.innerHTML=T,E=M(),this.h()},l(I){e=$(I,"TR",{class:!0});var P=S(e);r=$(P,"TD",{class:!0});var v=S(r);j(l.$$.fragment,v),v.forEach(d),t=L(P),a=$(P,"TD",{class:!0});var Z=S(a);j(s.$$.fragment,Z),Z.forEach(d),o=L(P),u&&u.l(P),i=L(P),c&&c.l(P),m=L(P),y=$(P,"TD",{class:!0,"data-svelte-h":!0}),J(y)!=="svelte-1l3qah7"&&(y.innerHTML=T),E=L(P),P.forEach(d),this.h()},h(){_(r,"class","py-1 border-b border-slate-300"),_(a,"class","py-1 border-b border-slate-300"),_(y,"class","py-1 border-b border-slate-300"),_(e,"class","cursor-pointer hover:bg-slate-100")},m(I,P){k(I,e,P),g(e,r),O(l,r,null),g(e,t),g(e,a),O(s,a,null),g(e,o),u&&u.m(e,null),g(e,i),c&&c.m(e,null),g(e,m),g(e,y),g(e,E),h=!0,p||(f=Y(e,"click",D),p=!0)},p(I,P){n=I;const v={};P&1&&(v.itemFeature={name:"id",dtype:"str",value:n[4].id}),l.$set(v);const Z={};P&1&&(Z.itemFeature={name:"split",dtype:"str",value:n[4].split}),s.$set(Z),n[4].views?u?(u.p(n,P),P&1&&w(u,1)):(u=he(n),u.c(),w(u,1),u.m(e,i)):u&&(U(),B(u,1,1,()=>{u=null}),G()),n[4].features?c?(c.p(n,P),P&1&&w(c,1)):(c=me(n),c.c(),w(c,1),c.m(e,m)):c&&(U(),B(c,1,1,()=>{c=null}),G())},i(I){h||(w(l.$$.fragment,I),w(s.$$.fragment,I),w(u),w(c),h=!0)},o(I){B(l.$$.fragment,I),B(s.$$.fragment,I),B(u),B(c),h=!1},d(I){I&&d(e),V(l),V(s),u&&u.d(),c&&c.d(),p=!1,f()}}}function mt(n){let e,r,l,t,a,s,o,i,m,y=A(ge(n[0])),T=[];for(let f=0;f<y.length;f+=1)T[f]=ue(fe(n,y,f));let E=A(n[0]),h=[];for(let f=0;f<E.length;f+=1)h[f]=_e(ie(n,E,f));const p=f=>B(h[f],1,1,()=>{h[f]=null});return{c(){e=b("div"),r=b("table"),l=b("thead"),t=b("tr");for(let f=0;f<T.length;f+=1)T[f].c();a=M(),s=b("th"),o=M(),i=b("tbody");for(let f=0;f<h.length;f+=1)h[f].c();this.h()},l(f){e=$(f,"DIV",{class:!0});var u=S(e);r=$(u,"TABLE",{class:!0});var c=S(r);l=$(c,"THEAD",{});var D=S(l);t=$(D,"TR",{class:!0});var I=S(t);for(let v=0;v<T.length;v+=1)T[v].l(I);a=L(I),s=$(I,"TH",{}),S(s).forEach(d),I.forEach(d),D.forEach(d),o=L(c),i=$(c,"TBODY",{});var P=S(i);for(let v=0;v<h.length;v+=1)h[v].l(P);P.forEach(d),c.forEach(d),u.forEach(d),this.h()},h(){_(t,"class","sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"),_(r,"class","table-auto z-0 w-full text-center text-base text-slate-800"),_(e,"class","h-full w-full overflow-y-auto overflow-x-auto rounded-sm bg-white border border-slate-300 shadow-sm shadow-slate-300")},m(f,u){k(f,e,u),g(e,r),g(r,l),g(l,t);for(let c=0;c<T.length;c+=1)T[c]&&T[c].m(t,null);g(t,a),g(t,s),g(r,o),g(r,i);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(i,null);m=!0},p(f,[u]){if(u&1){y=A(ge(f[0]));let c;for(c=0;c<y.length;c+=1){const D=fe(f,y,c);T[c]?T[c].p(D,u):(T[c]=ue(D),T[c].c(),T[c].m(t,a))}for(;c<T.length;c+=1)T[c].d(1);T.length=y.length}if(u&3){E=A(f[0]);let c;for(c=0;c<E.length;c+=1){const D=ie(f,E,c);h[c]?(h[c].p(D,u),w(h[c],1)):(h[c]=_e(D),h[c].c(),w(h[c],1),h[c].m(i,null))}for(U(),c=E.length;c<h.length;c+=1)p(c);G()}},i(f){if(!m){for(let u=0;u<E.length;u+=1)w(h[u]);m=!0}},o(f){h=h.filter(Boolean);for(let u=0;u<h.length;u+=1)B(h[u]);m=!1},d(f){f&&d(e),X(T,f),X(h,f)}}}function ge(n){const e=["id","split"];return n[0]?.views&&e.push.apply(e,Object.keys(n[0].views)),n[0]?.features&&e.push.apply(e,Object.keys(n[0].features)),e}function pt(n,e,r){let{items:l}=e;const t=Ie();function a(o){t("selectItem",o.id)}const s=o=>{a(o)};return n.$$set=o=>{"items"in o&&r(0,l=o.items)},[l,a,s]}class _t extends R{constructor(e){super(),W(this,e,pt,mt,q,{items:0})}}function ve(n,e,r){const l=n.slice();return l[18]=e[r],l}function be(n){let e,r,l,t,a,s,o,i,m,y,T,E=n[7].length>0&&gt(n);const h=[$t,bt,vt],p=[];function f(c,D){return c[1]?0:c[0].isErrored?2:1}o=f(n),i=p[o]=h[o](n);let u=!n[0].isErrored&&ke(n);return{c(){e=b("div"),r=b("div"),l=b("div"),t=M(),a=b("div"),E&&E.c(),s=M(),i.c(),m=M(),u&&u.c(),y=N(),this.h()},l(c){e=$(c,"DIV",{class:!0});var D=S(e);r=$(D,"DIV",{class:!0});var I=S(r);l=$(I,"DIV",{class:!0}),S(l).forEach(d),t=L(I),a=$(I,"DIV",{class:!0});var P=S(a);E&&E.l(P),P.forEach(d),I.forEach(d),s=L(D),i.l(D),D.forEach(d),m=L(c),u&&u.l(c),y=N(),this.h()},h(){_(l,"class","flex-grow"),_(a,"class","relative flex items-center"),_(r,"class","py-5 h-20 flex space-x-2 items-center"),_(e,"class","w-full h-full flex flex-col")},m(c,D){k(c,e,D),g(e,r),g(r,l),g(r,t),g(r,a),E&&E.m(a,null),g(e,s),p[o].m(e,null),k(c,m,D),u&&u.m(c,D),k(c,y,D),T=!0},p(c,D){c[7].length>0&&E.p(c,D);let I=o;o=f(c),o===I?p[o].p(c,D):(U(),B(p[I],1,1,()=>{p[I]=null}),G(),i=p[o],i?i.p(c,D):(i=p[o]=h[o](c),i.c()),w(i,1),i.m(e,null)),c[0].isErrored?u&&(u.d(1),u=null):u?u.p(c,D):(u=ke(c),u.c(),u.m(y.parentNode,y))},i(c){T||(w(i),T=!0)},o(c){B(i),T=!1},d(c){c&&(d(e),d(m),d(y)),E&&E.d(),p[o].d(),u&&u.d(c)}}}function gt(n){let e,r,l,t,a,s,o,i,m,y,T,E=A(n[7]),h=[];for(let f=0;f<E.length;f+=1)h[f]=$e(ve(n,E,f));let p=n[5]!==""&&we(n);return{c(){e=b("select");for(let f=0;f<h.length;f+=1)h[f].c();r=M(),l=b("div"),t=b("input"),s=M(),o=re("svg"),i=re("path"),m=M(),p&&p.c(),this.h()},l(f){e=$(f,"SELECT",{class:!0});var u=S(e);for(let I=0;I<h.length;I+=1)h[I].l(u);u.forEach(d),r=L(f),l=$(f,"DIV",{class:!0});var c=S(l);t=$(c,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),s=L(c),o=se(c,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var D=S(o);i=se(D,"path",{d:!0,fill:!0}),S(i).forEach(d),D.forEach(d),m=L(c),p&&p.l(c),c.forEach(d),this.h()},h(){_(e,"class","h-10 px-4 mx-4 border rounded bg-slate-50 border-slate-300"),_(t,"id","sem-search-input"),_(t,"type","text"),t.value=n[5],_(t,"placeholder",a="Semantic search using "+n[6]),_(t,"class","h-10 pl-10 pr-4 rounded-full border text-slate-800 placeholder-slate-500 bg-slate-50 border-slate-300 shadow-slate-300 accent-main"),_(i,"d",He),_(i,"fill","currentcolor"),_(o,"xmlns","http://www.w3.org/2000/svg"),_(o,"height","48"),_(o,"viewBox","0 -960 960 960"),_(o,"width","48"),_(o,"class","absolute left-2 h-5 w-5 text-slate-800 pointer-events-none"),_(l,"class","relative flex items-center")},m(f,u){k(f,e,u);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(e,null);k(f,r,u),k(f,l,u),g(l,t),g(l,s),g(l,o),g(o,i),g(l,m),p&&p.m(l,null),y||(T=Y(t,"change",n[14]),y=!0)},p(f,u){if(u&192){E=A(f[7]);let c;for(c=0;c<E.length;c+=1){const D=ve(f,E,c);h[c]?h[c].p(D,u):(h[c]=$e(D),h[c].c(),h[c].m(e,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=E.length}u&32&&t.value!==f[5]&&(t.value=f[5]),u&64&&a!==(a="Semantic search using "+f[6])&&_(t,"placeholder",a),f[5]!==""?p?p.p(f,u):(p=we(f),p.c(),p.m(l,null)):p&&(p.d(1),p=null)},d(f){f&&(d(e),d(r),d(l)),X(h,f),p&&p.d(),y=!1,T()}}}function $e(n){let e,r=n[18]+"",l,t;return{c(){e=b("option"),l=F(r),t=M(),this.h()},l(a){e=$(a,"OPTION",{});var s=S(e);l=z(s,r),t=L(s),s.forEach(d),this.h()},h(){e.__value=n[6],ae(e,e.__value)},m(a,s){k(a,e,s),g(e,l),g(e,t)},p(a,s){s&64&&(e.__value=a[6],ae(e,e.__value))},d(a){a&&d(e)}}}function we(n){let e,r=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-5 w-5 text-slate-800"><path d="${Oe}" fill="currentcolor"></path></svg>`,l,t;return{c(){e=b("button"),e.innerHTML=r,this.h()},l(a){e=$(a,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-wv2rtu"&&(e.innerHTML=r),this.h()},h(){_(e,"class","absolute right-2 p-1 rounded-full transition-colors hover:bg-slate-300")},m(a,s){k(a,e,s),l||(t=Y(e,"click",n[9]),l=!0)},p:C,d(a){a&&d(e),l=!1,t()}}}function vt(n){let e,r,l="Error: dataset items could not be loaded",t,a,s;return a=new Ue({props:{$$slots:{default:[wt]},$$scope:{ctx:n}}}),a.$on("click",n[9]),{c(){e=b("div"),r=b("p"),r.textContent=l,t=M(),H(a.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var i=S(e);r=$(i,"P",{"data-svelte-h":!0}),J(r)!=="svelte-lcj0vm"&&(r.textContent=l),t=L(i),j(a.$$.fragment,i),i.forEach(d),this.h()},h(){_(e,"class","flex flex-col gap-5 justify-center align-middle text-center max-w-xs m-auto mt-10")},m(o,i){k(o,e,i),g(e,r),g(e,t),O(a,e,null),s=!0},p(o,i){const m={};i&2097152&&(m.$$scope={dirty:i,ctx:o}),a.$set(m)},i(o){s||(w(a.$$.fragment,o),s=!0)},o(o){B(a.$$.fragment,o),s=!1},d(o){o&&d(e),V(a)}}}function bt(n){let e,r;return e=new _t({props:{items:n[0].page.items}}),e.$on("selectItem",n[15]),{c(){H(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,t){O(e,l,t),r=!0},p(l,t){const a={};t&1&&(a.items=l[0].page.items),e.$set(a)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){B(e.$$.fragment,l),r=!1},d(l){V(e,l)}}}function $t(n){let e,r,l;return r=new qe({props:{class:"animate-spin"}}),{c(){e=b("div"),H(r.$$.fragment),this.h()},l(t){e=$(t,"DIV",{class:!0});var a=S(e);j(r.$$.fragment,a),a.forEach(d),this.h()},h(){_(e,"class","flex-grow flex justify-center items-center")},m(t,a){k(t,e,a),O(r,e,null),l=!0},p:C,i(t){l||(w(r.$$.fragment,t),l=!0)},o(t){B(r.$$.fragment,t),l=!1},d(t){t&&d(e),V(r)}}}function wt(n){let e;return{c(){e=F("Try again")},l(r){e=z(r,"Try again")},m(r,l){k(r,e,l)},d(r){r&&d(e)}}}function ke(n){let e,r,l,t=1+n[3]*(n[2]-1)+"",a,s,o=Math.min(n[3]*n[2],n[0].page.total)+"",i,m,y=n[0].page.total+"",T,E,h=n[0].page.total>n[3]&&Te(n),p=n[0].page.total>n[3]&&Ee(n);return{c(){e=b("div"),h&&h.c(),r=M(),l=b("span"),a=F(t),s=F(" - "),i=F(o),m=F(` of
          `),T=F(y),E=M(),p&&p.c(),this.h()},l(f){e=$(f,"DIV",{class:!0});var u=S(e);h&&h.l(u),r=L(u),l=$(u,"SPAN",{class:!0});var c=S(l);a=z(c,t),s=z(c," - "),i=z(c,o),m=z(c,` of
          `),T=z(c,y),c.forEach(d),E=L(u),p&&p.l(u),u.forEach(d),this.h()},h(){_(l,"class","mx-4"),_(e,"class","w-full py-5 h-20 flex justify-center items-center text-slate-800")},m(f,u){k(f,e,u),h&&h.m(e,null),g(e,r),g(e,l),g(l,a),g(l,s),g(l,i),g(l,m),g(l,T),g(e,E),p&&p.m(e,null)},p(f,u){f[0].page.total>f[3]?h?h.p(f,u):(h=Te(f),h.c(),h.m(e,r)):h&&(h.d(1),h=null),u&12&&t!==(t=1+f[3]*(f[2]-1)+"")&&Q(a,t),u&13&&o!==(o=Math.min(f[3]*f[2],f[0].page.total)+"")&&Q(i,o),u&1&&y!==(y=f[0].page.total+"")&&Q(T,y),f[0].page.total>f[3]?p?p.p(f,u):(p=Ee(f),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(f){f&&d(e),h&&h.d(),p&&p.d()}}}function Te(n){let e,r=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ve}" fill="currentcolor"></path></svg>`,l,t,a=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${je}" fill="currentcolor"></path></svg>`,s,o;return{c(){e=b("button"),e.innerHTML=r,l=M(),t=b("button"),t.innerHTML=a},l(i){e=$(i,"BUTTON",{"data-svelte-h":!0}),J(e)!=="svelte-18zo4xr"&&(e.innerHTML=r),l=L(i),t=$(i,"BUTTON",{"data-svelte-h":!0}),J(t)!=="svelte-1n17f1n"&&(t.innerHTML=a)},m(i,m){k(i,e,m),k(i,l,m),k(i,t,m),s||(o=[Y(e,"click",n[10]),Y(t,"click",n[11])],s=!0)},p:C,d(i){i&&(d(e),d(l),d(t)),s=!1,te(o)}}}function Ee(n){let e,r=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Fe}" fill="currentcolor"></path></svg>`,l,t,a=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${ze}" fill="currentcolor"></path></svg>`,s,o;return{c(){e=b("button"),e.innerHTML=r,l=M(),t=b("button"),t.innerHTML=a},l(i){e=$(i,"BUTTON",{"data-svelte-h":!0}),J(e)!=="svelte-1d9o6d7"&&(e.innerHTML=r),l=L(i),t=$(i,"BUTTON",{"data-svelte-h":!0}),J(t)!=="svelte-92h5yb"&&(t.innerHTML=a)},m(i,m){k(i,e,m),k(i,l,m),k(i,t,m),s||(o=[Y(e,"click",n[12]),Y(t,"click",n[13])],s=!0)},p:C,d(i){i&&(d(e),d(l),d(t)),s=!1,te(o)}}}function De(n){let e,r;return e=new Ae({props:{message:"Error while retrieving dataset items.",details:"Please look at the application logs for more information, and report this issue if the error persists."}}),e.$on("confirm",n[16]),{c(){H(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,t){O(e,l,t),r=!0},p:C,i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){B(e.$$.fragment,l),r=!1},d(l){V(e,l)}}}function kt(n){let e,r,l,t,a=n[0].page&&be(n),s=n[4]&&De(n),o=Tt;return{c(){e=b("div"),a&&a.c(),r=M(),s&&s.c(),l=M(),this.h()},l(i){e=$(i,"DIV",{class:!0});var m=S(e);a&&a.l(m),r=L(m),s&&s.l(m),l=L(m),m.forEach(d),this.h()},h(){_(e,"class","w-full px-20 bg-slate-50 flex flex-col text-slate-800 min-h-[calc(100vh-80px)]")},m(i,m){k(i,e,m),a&&a.m(e,null),g(e,r),s&&s.m(e,null),g(e,l),t=!0},p(i,[m]){i[0].page?a?(a.p(i,m),m&1&&w(a,1)):(a=be(i),a.c(),w(a,1),a.m(e,r)):a&&(U(),B(a,1,1,()=>{a=null}),G()),i[4]?s?(s.p(i,m),m&16&&w(s,1)):(s=De(i),s.c(),w(s,1),s.m(e,l)):s&&(U(),B(s,1,1,()=>{s=null}),G())},i(i){t||(w(a),w(s),w(o),t=!0)},o(i){B(a),B(s),B(o),t=!1},d(i){i&&d(e),a&&a.d(),s&&s.d()}}}let Tt=!1;function Et(n,e,r){let{selectedDataset:l}=e,t=!1,a,s;K.subscribe(v=>{r(2,a=v?.currentPage||Me),r(3,s=v?.pageSize||Le)});let o=!1,i="",m;const y=[];if("embeddings"in l.tables)for(const v of l.tables.embeddings)v.type=="search"&&(m||(m=v.source),y.push(v.source));const T=Ie();function E(v){T("selectItem",v)}function h(){document.getElementById("sem-search-input").value="",D()}function p(){a>1&&(r(1,t=!0),K.update(v=>({...v,pageSize:v?.pageSize||s,currentPage:1})))}function f(){a>1&&(r(1,t=!0),K.update(v=>({...v,pageSize:v?.pageSize||s,currentPage:a-1})))}function u(){(l.page?.total||1)>a*s&&(r(1,t=!0),K.update(v=>({...v,pageSize:v?.pageSize||s,currentPage:a+1})))}function c(){(l.page?.total||1)>a*s&&(r(1,t=!0),K.update(v=>({...v,pageSize:v?.pageSize||s,currentPage:Math.ceil((l.page?.total||1)/s)})))}function D(){r(5,i=document.getElementById("sem-search-input").value);let v={model:m,search:i};r(1,t=!0),K.update(Z=>({...Z,currentPage:1,query:v}))}const I=v=>E(v.detail),P=()=>r(4,o=!1);return n.$$set=v=>{"selectedDataset"in v&&r(0,l=v.selectedDataset)},n.$$.update=()=>{n.$$.dirty&1&&l.page?.items&&r(1,t=!1)},[l,t,a,s,o,i,m,y,E,h,p,f,u,c,D,I,P]}class Dt extends R{constructor(e){super(),W(this,e,Et,kt,q,{selectedDataset:0})}}function ye(n){let e,r,l;return r=new Dt({props:{selectedDataset:n[0]}}),r.$on("selectItem",n[2]),{c(){e=b("div"),H(r.$$.fragment),this.h()},l(t){e=$(t,"DIV",{class:!0});var a=S(e);j(r.$$.fragment,a),a.forEach(d),this.h()},h(){_(e,"class","pt-20 h-1 min-h-screen")},m(t,a){k(t,e,a),O(r,e,null),l=!0},p(t,a){const s={};a&1&&(s.selectedDataset=t[0]),r.$set(s)},i(t){l||(w(r.$$.fragment,t),l=!0)},o(t){B(r.$$.fragment,t),l=!1},d(t){t&&d(e),V(r)}}}function yt(n){let e,r,l=n[0]?.page&&ye(n);return{c(){l&&l.c(),e=N()},l(t){l&&l.l(t),e=N()},m(t,a){l&&l.m(t,a),k(t,e,a),r=!0},p(t,[a]){t[0]?.page?l?(l.p(t,a),a&1&&w(l,1)):(l=ye(t),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(U(),B(l,1,1,()=>{l=null}),G())},i(t){r||(w(l),r=!0)},o(t){B(l),r=!1},d(t){t&&d(e),l&&l.d(t)}}}function It(n,e,r){let l;const t=async s=>{await Pe(`/${l.name}/dataset/${s.detail}`)},a=s=>t(s);{let s;Be.subscribe(o=>s=o.params.dataset),Ce.subscribe(o=>{const i=o?.find(m=>m.name===s);i&&r(0,l=i)})}return[l,t,a]}class zt extends R{constructor(e){super(),W(this,e,It,yt,q,{})}}export{zt as component,Ft as universal};
