import{aw as Y,ax as re,p as ue,g as ce,c as Me,ay as Pe,d as tt,az as at,h as lt,e as ot,r as B,s as Oe,w as D,o as de,aA as nt,l as u,n as M,aB as it,q as fe,aC as st,aD as rt,y as d,E as P,$ as te,I as p,B as U,N,a8 as ut,a9 as ct,v as dt,L as Be,Q as ft,b as vt,A as s,z as y,aa as mt,J as $,R as H,x as j,F as x,G as Q,M as pt,K as k,_ as yt}from"./index-347ebc0b.js";import{L as gt}from"./ListviewItem-62729020.js";import{B as E,_ as Ve,L as ae}from"./ListItem-3474dcbd.js";import{_ as bt}from"./PanelviewItem.vue_vue_type_style_index_0_lang-8784ef81.js";import{e as ht,i as kt,a as wt}from"./contextmenu-95a4b9f4.js";import{A as $e}from"./Alert-a4137b79.js";import{C as St}from"./Container-a9ad1476.js";import{V as Ct}from"./VToolbar-850ea60c.js";import{V as Bt}from"./VTextField-bf3d7462.js";import{V as le}from"./VBadge-d0688981.js";import{a as Ne,d as Ee,z as Vt,A as $t,c as _t,B as It,C as Ft,D as At,E as Lt,g as Mt,i as Pt,F as Ot,r as Te,G as Nt,H as Et,k as O,V as oe,j as ne}from"./forwardRefs-094784c1.js";import{V as _e}from"./VCard-c0d0fdea.js";import{m as Tt,a as zt,f as Ie,b as ie,e as se,d as jt}from"./VMenu-76eea3a9.js";/* empty css              */import{V as Rt}from"./VVirtualScroll-2e3572fb.js";const ze=(()=>Y.reduce((t,r)=>(t[r]={type:[Boolean,String,Number],default:!1},t),{}))(),je=(()=>Y.reduce((t,r)=>{const a="offset"+re(r);return t[a]={type:[String,Number],default:null},t},{}))(),Re=(()=>Y.reduce((t,r)=>{const a="order"+re(r);return t[a]={type:[String,Number],default:null},t},{}))(),Fe={col:Object.keys(ze),offset:Object.keys(je),order:Object.keys(Re)};function Dt(t,r,a){let i=t;if(!(a==null||a===!1)){if(r){const o=r.replace(t,"");i+=`-${o}`}return t==="col"&&(i="v-"+i),t==="col"&&(a===""||a===!0)||(i+=`-${a}`),i.toLowerCase()}}const Kt=["auto","start","end","center","baseline","stretch"],Ht=ue({cols:{type:[Boolean,String,Number],default:!1},...ze,offset:{type:[String,Number],default:null},...je,order:{type:[String,Number],default:null},...Re,alignSelf:{type:String,default:null,validator:t=>Kt.includes(t)},...Ne(),...Ee()},"VCol"),Ut=ce()({name:"VCol",props:Ht(),setup(t,r){let{slots:a}=r;const i=Me(()=>{const o=[];let v;for(v in Fe)Fe[v].forEach(h=>{const V=t[h],g=Dt(v,h,V);g&&o.push(g)});const _=o.some(h=>h.startsWith("v-col-"));return o.push({"v-col":!_||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),o});return()=>{var o;return Pe(t.tag,{class:[i.value,t.class],style:t.style},(o=a.default)==null?void 0:o.call(a))}}}),ve=["start","end","center"],De=["space-between","space-around","space-evenly"];function me(t,r){return Y.reduce((a,i)=>{const o=t+re(i);return a[o]=r(),a},{})}const qt=[...ve,"baseline","stretch"],Ke=t=>qt.includes(t),He=me("align",()=>({type:String,default:null,validator:Ke})),Gt=[...ve,...De],Ue=t=>Gt.includes(t),qe=me("justify",()=>({type:String,default:null,validator:Ue})),Jt=[...ve,...De,"stretch"],Ge=t=>Jt.includes(t),Je=me("alignContent",()=>({type:String,default:null,validator:Ge})),Ae={align:Object.keys(He),justify:Object.keys(qe),alignContent:Object.keys(Je)},Wt={align:"align",justify:"justify",alignContent:"align-content"};function xt(t,r,a){let i=Wt[t];if(a!=null){if(r){const o=r.replace(t,"");i+=`-${o}`}return i+=`-${a}`,i.toLowerCase()}}const Qt=ue({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ke},...He,justify:{type:String,default:null,validator:Ue},...qe,alignContent:{type:String,default:null,validator:Ge},...Je,...Ne(),...Ee()},"VRow"),Yt=ce()({name:"VRow",props:Qt(),setup(t,r){let{slots:a}=r;const i=Me(()=>{const o=[];let v;for(v in Ae)Ae[v].forEach(_=>{const h=t[_],V=xt(v,_,h);V&&o.push(V)});return o.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),o});return()=>{var o;return Pe(t.tag,{class:["v-row",i.value,t.class],style:t.style},(o=a.default)==null?void 0:o.call(a))}}});function Xt(t){const r=Oe(t);let a=-1;function i(){clearInterval(a)}function o(){i(),fe(()=>r.value=t)}function v(_){const h=_?getComputedStyle(_):{transitionDuration:.2},V=parseFloat(h.transitionDuration)*1e3||200;if(i(),r.value<=0)return;const g=performance.now();a=window.setInterval(()=>{const F=performance.now()-g+V;r.value=Math.max(t-F,0),r.value<=0&&i()},V)}return it(i),{clear:i,time:r,start:v,reset:o}}const Zt=ue({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Vt({location:"bottom"}),...$t(),..._t(),...It(),...tt(),...at(Tt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),ea=ce()({name:"VSnackbar",props:Zt(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:a}=r;const i=lt(t,"modelValue"),{locationStyles:o}=Ft(t),{positionClasses:v}=At(t),{scopeId:_}=zt(),{themeClasses:h}=ot(t),{colorClasses:V,colorStyles:g,variantClasses:F}=Lt(t),{roundedClasses:b}=Mt(t),I=Xt(Number(t.timeout)),S=B(),A=B(),C=Oe(!1);D(i,T),D(()=>t.timeout,T),de(()=>{i.value&&T()});let m=-1;function T(){I.reset(),window.clearTimeout(m);const R=Number(t.timeout);if(!i.value||R===-1)return;const q=nt(A.value);I.start(q),m=window.setTimeout(()=>{i.value=!1},R)}function X(){I.reset(),window.clearTimeout(m)}function Z(){C.value=!0,X()}function ee(){C.value=!1,T()}return Pt(()=>{const R=Ie.filterProps(t),q=!!(a.default||a.text||t.text);return u(Ie,M({ref:S,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},v.value,t.class],style:t.style},R,{modelValue:i.value,"onUpdate:modelValue":K=>i.value=K,contentProps:M({class:["v-snackbar__wrapper",h.value,V.value,b.value,F.value],style:[o.value,g.value],onPointerenter:Z,onPointerleave:ee},R.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},_),{default:()=>{var K,G;return[Ot(!1,"v-snackbar"),t.timer&&u("div",{key:"timer",class:"v-snackbar__timer"},[u(Te,{ref:A,active:!C.value,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":I.time.value},null)]),q&&u("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((K=a.text)==null?void 0:K.call(a))??t.text,(G=a.default)==null?void 0:G.call(a)]),a.actions&&u(Nt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[u("div",{class:"v-snackbar__actions"},[a.actions()])]})]},activator:a.activator})}),Et({},S)}}),We=(t,r)=>{const a=t.__vccOpts||t;for(const[i,o]of r)a[i]=o;return a},ta={},aa=t=>(ut("data-v-259be2b2"),t=t(),ct(),t),la={class:"container"},oa=aa(()=>U("div",{class:"spinner"},null,-1)),na=[oa];function ia(t,r){return d(),P("div",la,na)}const sa=We(ta,[["render",ia],["__scopeId","data-v-259be2b2"],["__file","/home/oumoussa/side-projects/infinite/src/components/Spinner.vue"]]),ra=t=>({loading(){t.value="loading"},loaded(){t.value="loaded"},complete(){t.value="complete"},error(){t.value="error"}}),ua=(t,r,a)=>()=>{const i=a.parentEl||document.documentElement;a.prevHeight=i.scrollHeight,r.loading(),t("infinite",r)},ca=(t,r)=>{const a=t.getBoundingClientRect();if(!r)return a.top>=0&&a.bottom<=window.innerHeight;const i=r.getBoundingClientRect();return a.top>=i.top&&a.bottom<=i.bottom},Le=t=>{t.parentEl=document.querySelector(t.target)||null;let r=`0px 0px ${t.distance}px 0px`;t.top&&(r=`${t.distance}px 0px 0px 0px`);const a=new IntersectionObserver(i=>{i[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:r});return a.observe(t.infiniteLoading.value),a},da={class:"state-error"},fa={__name:"InfiniteLoading",props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:0},identifier:{required:!1},firstload:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(t,{emit:r}){const a=t;let i=null;const o=B(null),v=B("ready"),{top:_,firstload:h,target:V,distance:g}=a,{identifier:F}=st(a),b={infiniteLoading:o,target:V,top:_,firstload:h,distance:g,prevHeight:0,parentEl:null};b.emit=ua(r,ra(v),b);const I=()=>D(v,async A=>{const C=b.parentEl||document.documentElement;await fe(),A=="loaded"&&_&&(C.scrollTop=C.scrollHeight-b.prevHeight),A=="loaded"&&ca(o.value,b.parentEl)&&b.emit(),A=="complete"&&i.disconnect()}),S=()=>D(F,()=>{v.value="ready",i.disconnect(),i=Le(b)});return de(()=>{i=Le(b),I(),F&&S()}),rt(()=>{i.disconnect()}),(A,C)=>(d(),P("div",{ref_key:"infiniteLoading",ref:o},[v.value=="loading"?te(A.$slots,"spinner",{key:0},()=>[u(sa)],!0):p("v-if",!0),v.value=="complete"?te(A.$slots,"complete",{key:1},()=>{var m;return[U("span",null,N(((m=t.slots)==null?void 0:m.complete)||"No more results!"),1)]},!0):p("v-if",!0),v.value=="error"?te(A.$slots,"error",{key:2,retry:b.emit},()=>{var m;return[U("span",da,[U("span",null,N(((m=t.slots)==null?void 0:m.error)||"Oops something went wrong!"),1),U("button",{class:"retry",onClick:C[0]||(C[0]=(...T)=>b.emit&&b.emit(...T))}," retry ")])]},!0):p("v-if",!0)],512))}},va=We(fa,[["__scopeId","data-v-9d82030b"],["__file","/home/oumoussa/side-projects/infinite/src/components/InfiniteLoading.vue"]]);const ma={key:0},pa={key:0},ya={key:1},ga={key:5},Pa=dt({__name:"ItemsListing",props:{itemtype:{},sortKeys:{default:()=>["name"]},showTrackNumber:{type:Boolean,default:!0},showProvider:{type:Boolean,default:Object.keys(Be.providers).length>1},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavoritesOnlyFilter:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},parentItem:{default:void 0},showAlbumArtistsOnlyFilter:{type:Boolean},showSearchButton:{type:Boolean,default:void 0},showRefreshButton:{type:Boolean,default:void 0},showSelectButton:{type:Boolean,default:void 0},updateAvailable:{type:Boolean},title:{default:void 0},hideOnEmpty:{type:Boolean,default:!1},providerFilter:{default:void 0},allowCollapse:{type:Boolean,default:!1},allowKeyHooks:{type:Boolean,default:!1},contextMenuItems:{default:void 0},loadPagedData:{type:Function,default:void 0},loadItems:{type:Function,default:void 0},limit:{default:100},infiniteScroll:{type:Boolean,default:!0},path:{default:void 0}},emits:["refreshClicked"],setup(t,{emit:r}){const a=t,i=mt(),o=B({offset:0,limit:100,sortBy:"name",search:"",providerFilter:"library"}),v=B("list"),_=B(!1),h=B(!1),V=B(!1),g=B([]),F=B([]),b=B(),I=B(!1),S=B([]),A=B(!1),C=B(!1),m=B(!0),{t:T}=ft(),X=r,Z=function(){h.value?h.value=!1:(h.value=!0,fe(()=>{var e;(e=document.getElementById("searchInput"))==null||e.focus()}))},ee=function(e){return k({breakpoint:"bp1",condition:"lt",offset:$.navigationMenuSize})?2:k({breakpoint:"bp1",condition:"gt",offset:$.navigationMenuSize})&&k({breakpoint:"bp4",condition:"lt",offset:$.navigationMenuSize})?3:k({breakpoint:"bp4",condition:"gt",offset:$.navigationMenuSize})&&k({breakpoint:"bp6",condition:"lt",offset:$.navigationMenuSize})?4:k({breakpoint:"bp6",condition:"gt",offset:$.navigationMenuSize})&&k({breakpoint:"bp7",condition:"lt",offset:$.navigationMenuSize})?5:k({breakpoint:"bp7",condition:"gt",offset:$.navigationMenuSize})&&k({breakpoint:"bp8",condition:"lt",offset:$.navigationMenuSize})?6:k({breakpoint:"bp8",condition:"gt",offset:$.navigationMenuSize})&&k({breakpoint:"bp9",condition:"lt",offset:$.navigationMenuSize})?7:k({breakpoint:"bp9",condition:"gt",offset:$.navigationMenuSize})&&k({breakpoint:"bp10",condition:"lt",offset:$.navigationMenuSize})?8:k({breakpoint:"bp10",condition:"gt",offset:$.navigationMenuSize})?9:0},R=function(){m.value=!m.value,localStorage.setItem(`expand.${a.itemtype}`,m.value.toString())},q=function(){v.value==="panel"?v.value="list":v.value="panel",localStorage.setItem(`viewMode.${a.itemtype}`,v.value)},K=function(){o.value.favoritesOnly=!o.value.favoritesOnly;const e=o.value.favoritesOnly?"true":"false";localStorage.setItem(`favoriteFilter.${a.itemtype}`,e),z(!0)},G=function(){o.value.albumArtistsFilter=!o.value.albumArtistsFilter;const e=o.value.albumArtistsFilter?"true":"false";localStorage.setItem(`albumArtistsFilter.${a.itemtype}`,e),z(!0)},pe=function(e){return S.value.includes(e)},ye=function(e,n){if(n)S.value.includes(e)||S.value.push(e);else for(let l=0;l<S.value.length;l++)S.value[l]===e&&S.value.splice(l,1)},xe=function(){C.value&&(S.value=[]),C.value=!C.value},J=function(e,n=!0){S.value=[e],ge(n)},ge=function(e=!0){ht.emit("playdialog",{items:S.value,parentItem:a.parentItem,showContextMenuItems:e})},Qe=function(){X("refreshClicked"),z(!0,void 0,!0)},be=function(e){var n;if(!kt(e)){J(e,!1);return}e.media_type==pt.FOLDER?i.push({name:"browse",query:{path:e.path}}):["artist","album","playlist"].includes(e.media_type)||!((n=$.selectedPlayer)!=null&&n.available)?i.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):J(e,!0)},Ye=function(e,n){e!==void 0&&(o.value.sortBy=e),localStorage.setItem(`sortBy.${a.itemtype}`,o.value.sortBy),z(!0,void 0,e=="original")},Xe=function(e){o.value.providerFilter=e,z(!0,void 0,!0)},he=function(e){if(g.value.length==0){e&&e.loaded();return}if(b.value!==void 0&&o.value.offset>=b.value){e&&e.loaded();return}o.value.offset+=a.limit,z().then(()=>{e&&e.loaded()})},Ze=function(){localStorage.setItem("globalsearch",o.value.search),i.push({name:"search",params:{initSearch:o.value.search}})};D(()=>o.value.search,e=>{e&&(h.value=!0),z(!0);let n=`search.${a.itemtype}`;a.parentItem&&(n+=a.parentItem.item_id),localStorage.setItem(n,o.value.search)}),D(()=>a.path,()=>{F.value=[],ke()}),D(()=>a.limit,e=>{o.value.limit=e});const z=async function(e=!1,n=a.limit,l=!1){if((e||l)&&(o.value.offset=0,A.value=!1),I.value=!0,o.value.limit=a.limit,a.loadPagedData!==void 0){const w=await a.loadPagedData(o.value);w&&(o.value.offset?g.value.push(...w.items):g.value=w.items,b.value=w.total)}else if(a.loadItems!==void 0){(F.value.length===0||l)&&(F.value=[],F.value=await a.loadItems(o.value),o.value,b.value=F.value.length);const w=et(F.value,o.value);o.value.offset?g.value.push(...w):g.value=w}I.value=!1},W=function(e){return"label"in e&&e.label&&e.name?T(e.label,[e.name]):"label"in e&&e.label?T(e.label):"sort_name"in e&&e.sort_name?e.sort_name:e.name},et=function(e,n){var w,L;let l=[];if(n.search){const f=n.search.toLowerCase();for(const c of e)(c.name.toLowerCase().includes(f)||"artist"in c&&((w=c.artist)!=null&&w.name.toLowerCase().includes(f))||"album"in c&&((L=c.album)!=null&&L.name.toLowerCase().includes(f))||"artists"in c&&c.artists&&c.artists[0].name.toLowerCase().includes(f))&&l.push(c)}else l=e;return n.sortBy=="name"&&l.sort((f,c)=>W(f).localeCompare(W(c))),n.sortBy=="name_desc"&&l.sort((f,c)=>W(c).localeCompare(W(f))),n.sortBy=="album"&&l.sort((f,c)=>{var Se,Ce;return(Ce=f.album)==null?void 0:Ce.sort_name.localeCompare((Se=c.album)==null?void 0:Se.sort_name)}),n.sortBy=="artist"&&l.sort((f,c)=>f.artists[0].name.localeCompare(c.artists[0].name)),n.sortBy=="track_number"&&(l.sort((f,c)=>(f.track_number||0)-(c.track_number||0)),l.sort((f,c)=>(f.disc_number||0)-(c.disc_number||0))),n.sortBy=="position"&&l.sort((f,c)=>(f.position||0)-(c.position||0)),n.sortBy=="position_desc"&&l.sort((f,c)=>(c.position||0)-(f.position||0)),n.sortBy=="year"&&l.sort((f,c)=>(f.year||0)-(c.year||0)),n.sortBy=="recent"&&l.sort((f,c)=>(c.timestamp_added||0)-(f.timestamp_added||0)),n.sortBy=="duration"&&l.sort((f,c)=>(f.duration||0)-(c.duration||0)),n.sortBy=="duration_desc"&&l.sort((f,c)=>(c.duration||0)-(f.duration||0)),n.sortBy=="provider"&&l.sort((f,c)=>f.provider.localeCompare(c.provider)),n.favoritesOnly&&(l=l.filter(f=>f.favorite)),l.slice(n.offset,n.offset+n.limit)},ke=function(){const e=localStorage.getItem(`viewMode.${a.itemtype}`);e&&e!=="null"?v.value=e:a.itemtype=="artists"||a.itemtype=="albums"?v.value="panel":v.value="list";const n=localStorage.getItem(`sortBy.${a.itemtype}`);if(n&&n!=="null"&&a.sortKeys.includes(n)?o.value.sortBy=n:o.value.sortBy=a.sortKeys[0],a.showFavoritesOnlyFilter!==!1){const L=localStorage.getItem(`favoriteFilter.${a.itemtype}`);L&&L=="true"&&(o.value.favoritesOnly=!0)}if(a.showAlbumArtistsOnlyFilter!==!1){const L=localStorage.getItem(`albumArtistsFilter.${a.itemtype}`);L&&(o.value.albumArtistsFilter=L=="true")}if(a.allowCollapse!==!1){const L=localStorage.getItem(`expand.${a.itemtype}`);L&&(m.value=L=="true")}let l=`search.${a.itemtype}`;a.parentItem&&(l+=a.parentItem.item_id);const w=localStorage.getItem(l);w&&w!=="null"&&(o.value.search=w),z(!0)};de(async()=>{ke()});const we=function(e){if(!$.dialogActive)if(e.key==="a"&&(e.ctrlKey||e.metaKey)){for(e.preventDefault();g.value.length<b.value&&!(b.value!==void 0&&o.value.offset>=b.value);)o.value.offset+=a.limit,z();S.value=g.value,C.value=!0}else!V.value&&e.key=="Backspace"?o.value.search=o.value.search.slice(0,-1):!V.value&&e.key.length==1&&(o.value.search+=e.key,h.value=!0)};return a.allowKeyHooks&&(document.addEventListener("keydown",we),vt(()=>{document.removeEventListener("keydown",we)})),(e,n)=>e.hideOnEmpty&&g.value.length==0?p("",!0):(d(),P("section",ma,[u(Ct,{color:"transparent"},{title:s(()=>[H(N(e.title)+" ",1),j(k)("bp11")?(d(),y(le,{key:0,color:"grey",content:b.value,inline:""},null,8,["content"])):p("",!0)]),append:s(()=>[(e.showSelectButton!=null?e.showSelectButton:j(k)("bp1"))?(d(),y(E,M({key:0},a,{variant:"list",title:e.$t("tooltip.select_items"),disabled:!m.value,onClick:xe}),{default:s(()=>[u(O,{icon:C.value?"mdi-checkbox-multiple-outline":"mdi-checkbox-multiple-blank-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),(e.showFavoritesOnlyFilter!=null?e.showFavoritesOnlyFilter:j(k)("bp1"))?(d(),y(E,M({key:1},a,{variant:"list",title:e.$t("tooltip.filter_favorites"),disabled:!m.value,onClick:K}),{default:s(()=>[u(O,{icon:o.value.favoritesOnly?"mdi-heart":"mdi-heart-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),e.showAlbumArtistsOnlyFilter?(d(),y(E,M({key:2},a,{variant:"list",title:e.$t("tooltip.album_artist_filter"),disabled:!m.value,onClick:G}),{default:s(()=>[u(O,{icon:o.value.albumArtistsFilter?"mdi-account-music":"mdi-account-music-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),(e.showRefreshButton!=null?e.showRefreshButton:j(k)("bp1"))?(d(),y(E,M({key:3},a,{variant:"list",title:e.updateAvailable?e.$t("tooltip.refresh_new_content"):e.$t("tooltip.refresh"),disabled:!m.value||I.value,onClick:n[0]||(n[0]=l=>Qe())}),{default:s(()=>[u(le,{"model-value":e.updateAvailable,color:"error",dot:""},{default:s(()=>[u(O,{icon:"mdi-refresh"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):p("",!0),e.sortKeys.length>1?(d(),y(se,{key:4,modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=l=>_.value=l),location:"bottom end","close-on-content-click":!0},{activator:s(({props:l})=>[u(E,M(l,{variant:"list",disabled:!m.value,title:e.$t("tooltip.sort_options")}),{default:s(()=>[u(O,M(l,{icon:"mdi-sort"}),null,16)]),_:2},1040,["disabled","title"])]),default:s(()=>[u(_e,null,{default:s(()=>[u(ie,null,{default:s(()=>[(d(!0),P(x,null,Q(e.sortKeys,l=>(d(),P("div",{key:l},[u(ae,{onClick:w=>Ye(l)},{title:s(()=>[H(N(e.$t("sort."+l)),1)]),append:s(()=>[o.value.sortBy==l?(d(),y(O,{key:0,icon:"mdi-check"})):p("",!0)]),_:2},1032,["onClick"]),u(oe)]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):p("",!0),(e.showSearchButton!=null?e.showSearchButton:j(k)("bp1"))?(d(),y(E,M({key:5},a,{variant:"list",title:o.value.search.length!==0?e.$t("tooltip.search_filter_active"):e.$t("tooltip.search"),disabled:!m.value,onClick:n[2]||(n[2]=l=>Z())}),{default:s(()=>[u(le,{"model-value":o.value.search.length!==0,color:"error",dot:""},{default:s(()=>[u(O,{icon:"mdi-magnify"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):p("",!0),u(E,M(a,{variant:"list",title:e.$t("tooltip.toggle_view_mode"),disabled:!m.value,onClick:n[3]||(n[3]=l=>q())}),{default:s(()=>[u(O,{icon:v.value=="panel"?"mdi-view-list":"mdi-grid"},null,8,["icon"])]),_:1},16,["title","disabled"]),e.providerFilter&&e.providerFilter.length>1?(d(),y(se,{key:6,location:"bottom end","close-on-content-click":!0},{activator:s(({props:l})=>[u(E,M(l,{variant:"list",disabled:!m.value}),{default:s(()=>[u(Ve,{domain:o.value.providerFilter,size:30},null,8,["domain"])]),_:2},1040,["disabled"])]),default:s(()=>[u(_e,null,{default:s(()=>[u(ie,null,{default:s(()=>[(d(!0),P(x,null,Q(e.providerFilter,l=>(d(),P("div",{key:l},[u(ae,{onClick:w=>Xe(l)},{prepend:s(()=>[u(Ve,{domain:l,size:30},null,8,["domain"])]),title:s(()=>[l=="library"?(d(),P("span",pa,N(e.$t("library")),1)):(d(),P("span",ya,N(j(Be).getProviderName(l)),1))]),append:s(()=>[o.value.providerFilter==l?(d(),y(O,{key:0,icon:"mdi-check"})):p("",!0)]),_:2},1032,["onClick"]),u(oe)]))),128))]),_:1})]),_:1})]),_:1})):p("",!0),e.contextMenuItems&&e.contextMenuItems.length>0?(d(),y(se,{key:7,location:"bottom end"},{activator:s(({props:l})=>[u(E,M({variant:"list",style:{right:"3px"}},l),{default:s(()=>[u(O,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:s(()=>[u(ie,null,{default:s(()=>[(d(!0),P(x,null,Q(e.contextMenuItems.filter(l=>l.hide!=!0),(l,w)=>(d(),y(ae,{key:w,title:e.$t(l.label,l.labelArgs),disabled:l.disabled==!0,onClick:L=>l.action?l.action():""},{prepend:s(()=>[u(jt,{icon:l.icon},null,8,["icon"])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1})):p("",!0),e.allowCollapse?(d(),y(E,{key:8,variant:"list",title:e.$t("tooltip.collapse_expand"),onClick:R},{default:s(()=>[u(O,{icon:m.value?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1},8,["title"])):p("",!0)]),_:1}),u(oe),h.value&&m.value?(d(),y(Bt,{key:0,id:"searchInput",modelValue:o.value.search,"onUpdate:modelValue":n[4]||(n[4]=l=>o.value.search=l),clearable:"","prepend-inner-icon":"mdi-magnify",label:e.$t("search"),"hide-details":"",variant:"filled",style:{width:"auto","margin-top":"10px"},onFocus:n[5]||(n[5]=l=>V.value=!0),onBlur:n[6]||(n[6]=l=>V.value=!1)},null,8,["modelValue","label"])):p("",!0),m.value?(d(),y(St,{key:1,variant:v.value=="panel"?"panel":"default"},{default:s(()=>[I.value?(d(),y(Te,{key:0,indeterminate:""})):p("",!0),v.value=="panel"?(d(),y(Yt,{key:1},{default:s(()=>[(d(!0),P(x,null,Q(g.value,l=>(d(),y(Ut,{key:l.uri,class:yt(`col-${ee(e.$vuetify.display.width)}`)},{default:s(()=>[u(bt,{item:l,"is-selected":pe(l),"show-checkboxes":C.value,"show-track-number":e.showTrackNumber,onSelect:ye,onMenu:J,onClick:be},null,8,["item","is-selected","show-checkboxes","show-track-number"])]),_:2},1032,["class"]))),128))]),_:1})):p("",!0),v.value=="list"?(d(),y(Rt,{key:2,height:70,items:g.value,style:{height:"100%"}},{default:s(({item:l})=>[u(gt,{item:l,"show-track-number":e.showTrackNumber,"show-disc-number":e.showTrackNumber,"show-duration":e.showDuration,"show-favorite":e.showFavoritesOnlyFilter,"show-menu":e.showMenu,"show-provider":e.showProvider,"show-album":e.showAlbum,"show-checkboxes":C.value,"is-selected":pe(l),"show-details":e.itemtype.includes("versions"),"parent-item":e.parentItem,"context-menu-items":e.showMenu?j(wt)([l],e.parentItem):[],onSelect:ye,onMenu:J,onClick:be},null,8,["item","show-track-number","show-disc-number","show-duration","show-favorite","show-menu","show-provider","show-album","show-checkboxes","is-selected","show-details","parent-item","context-menu-items"])]),_:1},8,["items"])):p("",!0),e.infiniteScroll?(d(),y(j(va),{key:3,onInfinite:he})):(b.value||0)>g.value.length?(d(),y(ne,{key:4,variant:"plain",onClick:n[7]||(n[7]=l=>he())},{default:s(()=>[H(N(e.$t("load_more_items")),1)]),_:1})):p("",!0),!I.value&&g.value.length==0?(d(),P("div",ga,[!I.value&&g.value.length==0&&(o.value.search||o.value.favoritesOnly)?(d(),y($e,{key:0,title:e.$t("no_content_filter")},{default:s(()=>[o.value.search?(d(),y(ne,{key:0,style:{"margin-top":"15px"},onClick:Ze},{default:s(()=>[H(N(e.$t("try_global_search")),1)]),_:1})):p("",!0)]),_:1},8,["title"])):!I.value&&g.value.length==0?(d(),y($e,{key:1},{default:s(()=>[H(N(e.$t("no_content")),1)]),_:1})):p("",!0)])):p("",!0),u(ea,{"model-value":S.value.length>1,timeout:-1,style:{"margin-bottom":"120px"}},{actions:s(()=>[u(ne,{color:"primary",variant:"text",onClick:n[8]||(n[8]=l=>ge(!0))},{default:s(()=>[H(N(e.$t("actions")),1)]),_:1})]),default:s(()=>[U("span",null,N(e.$t("items_selected",[S.value.length])),1)]),_:1},8,["model-value"])]),_:1},8,["variant"])):p("",!0)]))}});export{Ut as V,Pa as _,Yt as a};
