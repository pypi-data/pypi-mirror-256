# Copyright UL Research Institutes
# SPDX-License-Identifier: Apache-2.0

apiVersion: v1
kind: ServiceAccount
metadata:
  name: workflows-informer
  namespace: default
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: workflows-informer
rules:
  - apiGroups:
      - "dyff.io" # If you specify dyff.io/v1alpha1, it doesn't work
    resources:
      - "audits"
      - "datasets"
      - "evaluations"
      - "inferenceservices"
      - "inferencesessions"
      - "models"
      - "reports"
    verbs:
      - "get"
      - "watch"
      - "list"
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: workflows-informer
subjects:
  - kind: ServiceAccount
    name: workflows-informer
    namespace: default
roleRef:
  kind: ClusterRole
  name: workflows-informer
  apiGroup: rbac.authorization.k8s.io
