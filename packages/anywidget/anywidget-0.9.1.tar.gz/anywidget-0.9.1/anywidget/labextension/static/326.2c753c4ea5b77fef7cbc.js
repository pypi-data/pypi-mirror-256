"use strict";(self.webpackChunkanywidget=self.webpackChunkanywidget||[]).push([[326],{326:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var i=n(395),r=n(203),s=n(147);const a={id:`${s.u2}:plugin`,requires:[i.IJupyterWidgetRegistry],activate:(e,t)=>{let n=(0,r.Z)(i);t.registerWidget({name:s.u2,version:s.i8,exports:n})},autoStart:!0}},203:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(644),r=n(147);function s(e,t){if(!e)throw new Error(t)}function a(e){return e.startsWith("http://")||e.startsWith("https://")}let o=Symbol("anywidget.initialize");function d(e,t){return{get:e.get.bind(e),set:e.set.bind(e),save_changes:e.save_changes.bind(e),send:e.send.bind(e),on(n,i){e.on(n,i,t)},off(n,i){e.off(n,i,t)},widget_manager:e.widget_manager}}async function l(e,t){return Promise.resolve().then((()=>e?.())).catch((e=>console.warn(`[anywidget] error cleaning up ${t}.`,e)))}class c{#e=()=>{};#t=new Set;#n=()=>null;constructor(e){this.#e=(0,i.createRoot)((t=>{let[n,r]=(0,i.createSignal)(e.get("_css"));e.on("change:_css",(()=>{let t=e.get("_anywidget_id");console.debug(`[anywidget] css hot updated: ${t}`),r(e.get("_css"))})),(0,i.createEffect)((()=>{let t=e.get("_anywidget_id");!async function(e,t){if(e&&t)a(e)?async function(e,t){let n=document.querySelector(`link[id='${t}']`);if(n){let t=n.cloneNode();return t.href=e,t.addEventListener("load",(()=>n?.remove())),t.addEventListener("error",(()=>n?.remove())),void n.after(t)}new Promise((t=>{let n=Object.assign(document.createElement("link"),{rel:"stylesheet",href:e,onload:t});document.head.appendChild(n)}))}(e,t):function(e,t){let n=document.querySelector(`style[id='${t}']`);if(n)return void(n.textContent=e);let i=Object.assign(document.createElement("style"),{id:t,type:"text/css"});i.appendChild(document.createTextNode(e)),document.head.appendChild(i)}(e,t)}(n(),t)}));let[c,u]=(0,i.createSignal)(e.get("_esm"));e.on("change:_esm",(async()=>{let t=e.get("_anywidget_id");console.debug(`[anywidget] esm hot updated: ${t}`),u(e.get("_esm"))}));let[f,h]=(0,i.createSignal)(null);this.#n=f;let p=[];return(0,i.createEffect)((()=>{let t=c();l(p.pop(),"initialize").then((async()=>{let n=await async function(e){let t=await async function(e){if(a(e))return import(e);let t,n=URL.createObjectURL(new Blob([e],{type:"text/javascript"}));try{t=await import(n)}catch(e){console.error(e)}return URL.revokeObjectURL(n),t}(e);return t.render?(console.warn("[anywidget] Deprecation Warning. Direct export of a 'render' will likely be deprecated in the future. To migrate ...\n\nRemove the 'export' keyword from 'render'\n-----------------------------------------\n\nexport function render({ model, el }) { ... }\n^^^^^^\n\nCreate a default export that returns an object with 'render'\n------------------------------------------------------------\n\nfunction render({ model, el }) { ... }\n         ^^^^^^\nexport default { render }\n                 ^^^^^^\n\nTo learn more, please see: https://github.com/manzt/anywidget/pull/395\n"),{async initialize(){},render:t.render}):(s(t.default,"[anywidget] module must export a default function or object."),"function"==typeof t.default?await t.default():t.default)}(t);e.off(null,null,o);let i=await(n.initialize?.({model:d(e,o)}));h((()=>n.render)),p.push((async()=>i?.()))}))})),()=>{p.forEach((e=>e())),p.length=0,e.off("change:_css"),e.off("change:_esm"),t()}}))}async create_view(e){let t=e.model,n=(0,i.createRoot)((n=>{let r=[];return(0,i.createEffect)((()=>{let n=this.#n();l(r.pop(),"render").then((async()=>{t.off(null,null,e),e.$el.empty();let i=await(n?.({model:d(t,e),el:e.el}));r.push((async()=>i?.()))}))})),()=>{n(),r.forEach((e=>e())),r.length=0}}));return this.#t.add(n),()=>{this.#t.delete(n)&&n()}}dispose(){this.#t.forEach((e=>e())),this.#t.clear(),this.#e()}}function u({DOMWidgetModel:e,DOMWidgetView:t}){let n=new WeakMap;class i extends e{static model_name="AnyModel";static model_module=r.u2;static model_module_version=r.i8;static view_name="AnyView";static view_module=r.u2;static view_module_version=r.i8;initialize(...e){super.initialize(...e);let t=new c(this);this.once("destroy",(()=>{try{t.dispose()}finally{n.delete(this)}})),n.set(this,t)}serialize(e){let t=this.constructor.serializers||{};for(let n of Object.keys(e))try{let i=t[n]?.serialize;e[n]=i?i(e[n],this):"layout"===n||"style"===n?JSON.parse(JSON.stringify(e[n])):structuredClone(e[n]),"function"==typeof e[n]?.toJSON&&(e[n]=e[n].toJSON())}catch(e){throw console.error("Error serializing widget state attribute: ",n),e}return e}}return{AnyModel:i,AnyView:class extends t{#i=void 0;async render(){let e=n.get(this.model);s(e,"[anywidget] runtime not found."),s(!this.#i,"[anywidget] dispose already set."),this.#i=await e.create_view(this)}remove(){this.#i?.(),super.remove()}}}}},147:e=>{e.exports=JSON.parse('{"u2":"anywidget","i8":"0.9.1"}')}}]);